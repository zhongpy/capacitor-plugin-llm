{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"AAAA,SAAS;AACT,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAY5C,MAAM,OAAO,MAAO,SAAQ,SAAS;IAGnC,KAAK,CAAC,IAAI,CAAC,QAAqB;QAC9B,OAAO;IACT,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,OAAoB;QAC7B,MAAM,IAAI,GAAG,iBAAiB,OAAO,CAAC,MAAM,EAAE,CAAC;QAC/C,IAAI,CAAC,KAAK,GAAG,IAAI,eAAe,EAAE,CAAC;QACnC,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE;YACrB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO;gBAAE,MAAM;YACrC,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,EAAE,EAAmB,CAAC,CAAC;SAClE;QACD,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,EAAkB,CAAC,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,IAAI;;QACR,MAAA,IAAI,CAAC,KAAK,0CAAE,KAAK,GAAG;IACtB,CAAC;IACD,KAAK,CAAC,IAAI;QACR,OAAO;IACT,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,QAA4B;QAC5C,OAAO;IACT,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,OAA6B;;QAC/C,MAAM,KAAK,SAAG,OAAO,CAAC,KAAK,mCAAI,UAAU,CAAC;QAC1C,MAAM,GAAG,SAAG,OAAO,CAAC,UAAU,mCAAI,GAAG,CAAC;QACtC,OAAO,EAAE,IAAI,EAAE,uBAAuB,KAAK,MAAM,GAAG,SAAS,EAAE,CAAC;IAClE,CAAC;CACF;AACD,eAAe,MAAM,CAAC","sourcesContent":["// web.ts\nimport { WebPlugin } from '@capacitor/core';\n\nimport type {\n  LLMPlugin,\n  InitOptions,\n  ChatOptions,\n  GenerateEssayOptions,\n  LLMTokenEvent,\n  LLMDoneEvent,\n  SetSamplingOptions,\n} from './definitions';\n\nexport class LLMWeb extends WebPlugin implements LLMPlugin {\n  private abort?: AbortController;\n\n  async init(_options: InitOptions): Promise<void> {\n    return;\n  }\n\n  async chat(options: ChatOptions): Promise<void> {\n    const text = `[LLMWeb mock] ${options.prompt}`;\n    this.abort = new AbortController();\n    for (const ch of text) {\n      if (this.abort.signal.aborted) break;\n      await new Promise((r) => setTimeout(r, 8));\n      this.notifyListeners('llmToken', { token: ch } as LLMTokenEvent);\n    }\n    this.notifyListeners('llmDone', {} as LLMDoneEvent);\n  }\n\n  async stop(): Promise<void> {\n    this.abort?.abort();\n  }\n  async free(): Promise<void> {\n    return;\n  }\n\n  async setSampling(_options: SetSamplingOptions): Promise<void> {\n    return;\n  }\n\n  async generateEssay(options: GenerateEssayOptions): Promise<{ text: string }> {\n    const title = options.title ?? 'An Essay';\n    const len = options.word_limit ?? 200;\n    return { text: `[LLMWeb mock essay] ${title} (~${len} words)` };\n  }\n}\nexport default LLMWeb;\n"]}