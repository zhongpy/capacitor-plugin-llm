{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"AAAA,SAAS;AACT,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAY5C,MAAM,OAAO,MAAO,SAAQ,SAAS;IAGnC,KAAK,CAAC,IAAI,CAAC,QAAqB;QAC9B,OAAO;IACT,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,OAAoB;QAC7B,MAAM,IAAI,GAAG,iBAAiB,OAAO,CAAC,MAAM,EAAE,CAAC;QAC/C,IAAI,CAAC,KAAK,GAAG,IAAI,eAAe,EAAE,CAAC;QACnC,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE;YACrB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO;gBAAE,MAAM;YACrC,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,EAAE,EAAmB,CAAC,CAAC;SAClE;QACD,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,EAAkB,CAAC,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,IAAI;;QACR,MAAA,IAAI,CAAC,KAAK,0CAAE,KAAK,GAAG;IACtB,CAAC;IACD,KAAK,CAAC,IAAI;QACR,OAAO;IACT,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,QAA4B;QAC5C,OAAO;IACT,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,OAA6B;;QAC/C,MAAM,KAAK,SAAG,OAAO,CAAC,KAAK,mCAAI,UAAU,CAAC;QAC1C,MAAM,GAAG,SAAG,OAAO,CAAC,UAAU,mCAAI,GAAG,CAAC;QACtC,OAAO,EAAE,IAAI,EAAE,uBAAuB,KAAK,MAAM,GAAG,SAAS,EAAE,CAAC;IAClE,CAAC;CACF;AACD,eAAe,MAAM,CAAC","sourcesContent":["// web.ts\r\nimport { WebPlugin } from '@capacitor/core';\r\n\r\nimport type {\r\n  LLMPlugin,\r\n  InitOptions,\r\n  ChatOptions,\r\n  GenerateEssayOptions,\r\n  LLMTokenEvent,\r\n  LLMDoneEvent,\r\n  SetSamplingOptions,\r\n} from './definitions';\r\n\r\nexport class LLMWeb extends WebPlugin implements LLMPlugin {\r\n  private abort?: AbortController;\r\n\r\n  async init(_options: InitOptions): Promise<void> {\r\n    return;\r\n  }\r\n\r\n  async chat(options: ChatOptions): Promise<void> {\r\n    const text = `[LLMWeb mock] ${options.prompt}`;\r\n    this.abort = new AbortController();\r\n    for (const ch of text) {\r\n      if (this.abort.signal.aborted) break;\r\n      await new Promise((r) => setTimeout(r, 8));\r\n      this.notifyListeners('llmToken', { token: ch } as LLMTokenEvent);\r\n    }\r\n    this.notifyListeners('llmDone', {} as LLMDoneEvent);\r\n  }\r\n\r\n  async stop(): Promise<void> {\r\n    this.abort?.abort();\r\n  }\r\n  async free(): Promise<void> {\r\n    return;\r\n  }\r\n\r\n  async setSampling(_options: SetSamplingOptions): Promise<void> {\r\n    return;\r\n  }\r\n\r\n  async generateEssay(options: GenerateEssayOptions): Promise<{ text: string }> {\r\n    const title = options.title ?? 'An Essay';\r\n    const len = options.word_limit ?? 200;\r\n    return { text: `[LLMWeb mock essay] ${title} (~${len} words)` };\r\n  }\r\n}\r\nexport default LLMWeb;\r\n"]}